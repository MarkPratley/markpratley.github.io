<!doctype html>
<html class="no-js" lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>San Francisco Crime</title>

    <link rel="stylesheet" type="text/css" href="http://localhost:4000/assets/css/styles_feeling_responsive.css">

  

	<script src="http://localhost:4000/assets/js/modernizr.min.js"></script>

	<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
	<script>
		WebFont.load({
			google: {
				families: [ 'Lato:400,700,400italic:latin', 'Volkhov::latin' ]
			}
		});
	</script>

	<noscript>
		<link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic%7CVolkhov' rel='stylesheet' type='text/css'>
	</noscript>


	<!-- Search Engine Optimization -->
	<meta name="description" content="Exploring and Mapping Crime in San Francisco">
  	
	
	
	
	


	<!-- Facebook Open Graph -->
	<meta property="og:title" content="San Francisco Crime">
	<meta property="og:description" content="Exploring and Mapping Crime in San Francisco">
	<meta property="og:url" content="http://localhost:4000/projects/SFCrimeExplore/">
	<meta property="og:locale" content="en_EN">
	<meta property="og:type" content="website">
	<meta property="og:site_name" content="Projects">
	
	


	

	<link type="text/plain" rel="author" href="http://localhost:4000/humans.txt">

	

	

	<link rel="icon" sizes="32x32" href="http://localhost:4000/assets/img/favicon-32x32.png">

	<link rel="icon" sizes="192x192" href="http://localhost:4000/assets/img/touch-icon-192x192.png">

	<link rel="apple-touch-icon-precomposed" sizes="180x180" href="http://localhost:4000/assets/img/apple-touch-icon-180x180-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="152x152" href="http://localhost:4000/assets/img/apple-touch-icon-152x152-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/assets/img/apple-touch-icon-144x144-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="120x120" href="http://localhost:4000/assets/img/apple-touch-icon-120x120-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:4000/assets/img/apple-touch-icon-114x114-precomposed.png">

	
	<link rel="apple-touch-icon-precomposed" sizes="76x76" href="http://localhost:4000/assets/img/apple-touch-icon-76x76-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:4000/assets/img/apple-touch-icon-72x72-precomposed.png">

	<link rel="apple-touch-icon-precomposed" href="http://localhost:4000/assets/img/apple-touch-icon-precomposed.png">	

	<meta name="msapplication-TileImage" content="http://localhost:4000/assets/img/msapplication_tileimage.png">

	<meta name="msapplication-TileColor" content="#fabb00">


	

</head>
<body id="top-of-page" class="page-fullwidth">
	
	<div id="navigation" class="sticky">
  <nav class="top-bar" role="navigation" data-topbar>
    <ul class="title-area">
      <li class="name">
      <h1 class="show-for-small-only"><a href="http://localhost:4000" class="icon-tree"> Projects</a></h1>
    </li>
       <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
      <li class="toggle-topbar menu-icon"><a href="#"><span>Navigation</span></a></li>
    </ul>
    <section class="top-bar-section">

      <ul class="right">
        

              

          
          
        

              

          
          
        

              

          
          
        

              

          
          
            
            
              <li class="divider"></li>
              <li><a href="http://localhost:4000/search/">Search</a></li>

            
            
          
        

              

          
          
            
            
              <li class="divider"></li>
              <li><a href="http://localhost:4000/contact/">Contact</a></li>

            
            
          
        
        
      </ul>

      <ul class="left">
        

              

          
          

            
            
              <li><a href="http://localhost:4000/">Home</a></li>
              <li class="divider"></li>

            
            
          
        

              

          
          

            
            

              <li class="has-dropdown">
                <a href="http://localhost:4000/projects/">Projects</a>

                  <ul class="dropdown">
                    

                      

                      <li><a href="http://localhost:4000/projects/">Latest</a></li>
                    

                      

                      <li><a href="http://localhost:4000/projects/archive/">Archive</a></li>
                    
                  </ul>

              </li>
              <li class="divider"></li>
            
          
        

              

          
          

            
            
              <li><a href="http://localhost:4000/about/">About</a></li>
              <li class="divider"></li>

            
            
          
        

              

          
          
        

              

          
          
        
        
      </ul>
    </section>
  </nav>
</div><!-- /#navigation -->

	

	

<div id="masthead-with-text" style="background: #262930; ">
	<div class="row">
		<div class="small-12 columns">
			<div class="masthead-title"></div>
		</div><!-- /.small-12.columns -->
	</div><!-- /.row -->
</div><!-- /#masthead -->




<nav class="breadcrumbs" role="menubar" aria-label="breadcrumbs">
 <a href="http://localhost:4000">Start</a>
 
   
    
        <a href="http://localhost:4000/projects/">projects</a>
    
  
    
        <a class="current">San Francisco Crime</a>
    
  
</nav>




<div class="masthead-caption">
	Oliver Twist Positive/Negative Plot Analysis
</div>







	


<div class="row t30">
	<div class="medium-12 columns">
		<article>
			<header>
				
				<h1>San Francisco Crime</h1>
			</header>

			
			<p class="teaser">
				Exploring and Mapping Crime in San Francisco
			</p>
			

			<h2 id="intro">Intro</h2>

<p>I recently stumbled onto the <a href="https://data.sfgov.org/Public-Safety/SFPD-Incidents-from-1-January-2003/tmnf-yvry">San Francisco Police Deparatment’s Incidents Dataset</a>, which caught my interest and I decided to investigate further.</p>

<p><a href="https://data.sfgov.org/api/views/tmnf-yvry/rows.csv?accessType=DOWNLOAD">This</a> dataset contains records of all the Incidents derived from SFPD Crime Incident Reporting system from 01/01/2003 up until 31/12/2014.</p>

<p>It contains almost 2 million incidents, where each incident has 13 data variables showing the Category, Description, and Resolution of the incident along with Date, Time and Location details.</p>

<p>From these it is possible to explore the data in some detail and also create some geo-data maps of incident locations.</p>

<p>Let’s firstly take a look at the main types of information it contains.</p>

<h2 id="categories">Categories</h2>

<p>Category is a broad umbrella term to easily determine the nature of the incident.
There are 39 categories with these being the most numerous:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">sf.data</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
    </span><span class="n">group_by</span><span class="p">(</span><span class="n">Category</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">summarise</span><span class="p">(</span><span class="n">Num</span><span class="o">=</span><span class="n">n</span><span class="p">())</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">arrange</span><span class="p">(</span><span class="n">desc</span><span class="p">(</span><span class="n">Num</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">head</span><span class="p">()</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">kable</span><span class="p">()</span></code></pre></figure>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Category</th>
      <th style="text-align: right">Num</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Larceny/Theft</td>
      <td style="text-align: right">374680</td>
    </tr>
    <tr>
      <td style="text-align: left">Other Offenses</td>
      <td style="text-align: right">263432</td>
    </tr>
    <tr>
      <td style="text-align: left">Non-Criminal</td>
      <td style="text-align: right">195806</td>
    </tr>
    <tr>
      <td style="text-align: left">Assault</td>
      <td style="text-align: right">161609</td>
    </tr>
    <tr>
      <td style="text-align: left">Vehicle Theft</td>
      <td style="text-align: right">112148</td>
    </tr>
    <tr>
      <td style="text-align: left">Drug/Narcotic</td>
      <td style="text-align: right">110181</td>
    </tr>
  </tbody>
</table>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">sf.data</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
    </span><span class="n">select</span><span class="p">(</span><span class="n">Category</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">group_by</span><span class="p">(</span><span class="n">Category</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
    </span><span class="n">summarise</span><span class="p">(</span><span class="n">Num</span><span class="o">=</span><span class="n">n</span><span class="p">())</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">arrange</span><span class="p">(</span><span class="n">desc</span><span class="p">(</span><span class="n">Num</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">head</span><span class="p">(</span><span class="m">7</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    
    </span><span class="n">ggplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">Category</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">Num</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
        </span><span class="n">geom_bar</span><span class="p">(</span><span class="n">stat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"identity"</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">Category</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
        </span><span class="n">theme</span><span class="p">(</span><span class="n">axis.text.x</span><span class="o">=</span><span class="n">element_blank</span><span class="p">())</span><span class="w"> </span><span class="o">+</span><span class="w">
        </span><span class="n">labs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">"Category"</span><span class="p">,</span><span class="w">
             </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Number"</span><span class="p">,</span><span class="w">
             </span><span class="n">title</span><span class="o">=</span><span class="s2">"Top Incident Categories"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
        </span><span class="n">scale_y_continuous</span><span class="p">(</span><span class="n">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">comma</span><span class="p">)</span></code></pre></figure>

<p><img src="/figs/SFCrimeExplore/top-crime-categories-1.png" alt="center" /></p>

<h2 id="crime-type">Crime Type</h2>

<p>The dataset also contains a finer grain summary of each incident; these examples are from taken from the Drug/Narcotic category:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">sf.data</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">filter</span><span class="p">(</span><span class="n">Category</span><span class="o">==</span><span class="s2">"Drug/Narcotic"</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">group_by</span><span class="p">(</span><span class="n">Descript</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">summarise</span><span class="p">(</span><span class="n">Num</span><span class="o">=</span><span class="n">n</span><span class="p">())</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">arrange</span><span class="p">(</span><span class="n">desc</span><span class="p">(</span><span class="n">Num</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">head</span><span class="p">()</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">kable</span><span class="p">()</span></code></pre></figure>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Descript</th>
      <th style="text-align: right">Num</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Possession Of Narcotics Paraphernalia</td>
      <td style="text-align: right">20486</td>
    </tr>
    <tr>
      <td style="text-align: left">Possession Of Base/Rock Cocaine</td>
      <td style="text-align: right">14109</td>
    </tr>
    <tr>
      <td style="text-align: left">Possession Of Marijuana</td>
      <td style="text-align: right">11228</td>
    </tr>
    <tr>
      <td style="text-align: left">Sale Of Base/Rock Cocaine</td>
      <td style="text-align: right">8805</td>
    </tr>
    <tr>
      <td style="text-align: left">Possession Of Meth-Amphetamine</td>
      <td style="text-align: right">7551</td>
    </tr>
    <tr>
      <td style="text-align: left">Possession Of Base/Rock Cocaine For Sale</td>
      <td style="text-align: right">7364</td>
    </tr>
  </tbody>
</table>

<h2 id="resolution">Resolution</h2>

<p>The outcome of the incident.
Shown below are most common outcomes in the Weapon Laws category.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">sf.data</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">filter</span><span class="p">(</span><span class="n">Category</span><span class="o">==</span><span class="s2">"Weapon Laws"</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">group_by</span><span class="p">(</span><span class="n">Resolution</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">summarise</span><span class="p">(</span><span class="n">Num</span><span class="o">=</span><span class="n">n</span><span class="p">())</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">arrange</span><span class="p">(</span><span class="n">desc</span><span class="p">(</span><span class="n">Num</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">head</span><span class="p">()</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">kable</span><span class="p">()</span></code></pre></figure>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Resolution</th>
      <th style="text-align: right">Num</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Arrest, Booked</td>
      <td style="text-align: right">10554</td>
    </tr>
    <tr>
      <td style="text-align: left">None</td>
      <td style="text-align: right">4874</td>
    </tr>
    <tr>
      <td style="text-align: left">Arrest, Cited</td>
      <td style="text-align: right">1156</td>
    </tr>
    <tr>
      <td style="text-align: left">Juvenile Booked</td>
      <td style="text-align: right">636</td>
    </tr>
    <tr>
      <td style="text-align: left">Juvenile Cited</td>
      <td style="text-align: right">262</td>
    </tr>
    <tr>
      <td style="text-align: left">Juvenile Admonished</td>
      <td style="text-align: right">191</td>
    </tr>
  </tbody>
</table>

<h2 id="arrested">Arrested?</h2>

<p>For ease of analysis a new ‘Arrested’ variable was created which simplifies two arrest resolutions (“Arrest, Booked” and “Arrest, Cited”) as 1, and all the other Resolutions as 0.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">sf.data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">sf.data</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
            </span><span class="n">mutate</span><span class="p">(</span><span class="n">Arrested</span><span class="o">=</span><span class="n">ifelse</span><span class="p">(</span><span class="n">grepl</span><span class="p">(</span><span class="s2">"Arrest"</span><span class="p">,</span><span class="w"> </span><span class="n">Resolution</span><span class="p">),</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">))</span></code></pre></figure>

<p>This allows us to easily show the incidents with the highest arrest rate:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">sf.data</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">group_by</span><span class="p">(</span><span class="n">Category</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">summarise</span><span class="p">(</span><span class="n">Num</span><span class="o">=</span><span class="n">n</span><span class="p">(),</span><span class="w"> 
              </span><span class="n">Arrested</span><span class="o">=</span><span class="nf">sum</span><span class="p">(</span><span class="n">Arrested</span><span class="p">),</span><span class="w"> 
              </span><span class="n">PercentArrested</span><span class="o">=</span><span class="nf">round</span><span class="p">(</span><span class="m">100</span><span class="o">*</span><span class="nf">sum</span><span class="p">(</span><span class="n">Arrested</span><span class="p">)</span><span class="o">/</span><span class="n">n</span><span class="p">(),</span><span class="w"> </span><span class="m">0</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
    </span><span class="n">arrange</span><span class="p">(</span><span class="n">desc</span><span class="p">(</span><span class="n">PercentArrested</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">head</span><span class="p">(</span><span class="m">9</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">kable</span><span class="p">()</span></code></pre></figure>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Category</th>
      <th style="text-align: right">Num</th>
      <th style="text-align: right">Arrested</th>
      <th style="text-align: right">PercentArrested</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Driving Under The Influence</td>
      <td style="text-align: right">4867</td>
      <td style="text-align: right">4558</td>
      <td style="text-align: right">94</td>
    </tr>
    <tr>
      <td style="text-align: left">Prostitution</td>
      <td style="text-align: right">15429</td>
      <td style="text-align: right">14434</td>
      <td style="text-align: right">94</td>
    </tr>
    <tr>
      <td style="text-align: left">Warrants</td>
      <td style="text-align: right">87945</td>
      <td style="text-align: right">81579</td>
      <td style="text-align: right">93</td>
    </tr>
    <tr>
      <td style="text-align: left">Drug/Narcotic</td>
      <td style="text-align: right">110181</td>
      <td style="text-align: right">98538</td>
      <td style="text-align: right">89</td>
    </tr>
    <tr>
      <td style="text-align: left">Loitering</td>
      <td style="text-align: right">2340</td>
      <td style="text-align: right">2040</td>
      <td style="text-align: right">87</td>
    </tr>
    <tr>
      <td style="text-align: left">Liquor Laws</td>
      <td style="text-align: right">3821</td>
      <td style="text-align: right">3221</td>
      <td style="text-align: right">84</td>
    </tr>
    <tr>
      <td style="text-align: left">Stolen Property</td>
      <td style="text-align: right">9825</td>
      <td style="text-align: right">8060</td>
      <td style="text-align: right">82</td>
    </tr>
    <tr>
      <td style="text-align: left">Drunkenness</td>
      <td style="text-align: right">8882</td>
      <td style="text-align: right">7212</td>
      <td style="text-align: right">81</td>
    </tr>
    <tr>
      <td style="text-align: left">Other Offenses</td>
      <td style="text-align: right">263432</td>
      <td style="text-align: right">183513</td>
      <td style="text-align: right">70</td>
    </tr>
  </tbody>
</table>

<p>And also the incidents with the lowest:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">sf.data</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">group_by</span><span class="p">(</span><span class="n">Category</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">summarise</span><span class="p">(</span><span class="n">Num</span><span class="o">=</span><span class="n">n</span><span class="p">(),</span><span class="w"> 
              </span><span class="n">Arrested</span><span class="o">=</span><span class="nf">sum</span><span class="p">(</span><span class="n">Arrested</span><span class="p">),</span><span class="w"> 
              </span><span class="n">PercentArrested</span><span class="o">=</span><span class="nf">round</span><span class="p">(</span><span class="m">100</span><span class="o">*</span><span class="nf">sum</span><span class="p">(</span><span class="n">Arrested</span><span class="p">)</span><span class="o">/</span><span class="n">n</span><span class="p">(),</span><span class="w"> </span><span class="m">0</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
    </span><span class="n">arrange</span><span class="p">(</span><span class="n">desc</span><span class="p">(</span><span class="n">PercentArrested</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">tail</span><span class="p">(</span><span class="m">9</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">kable</span><span class="p">()</span></code></pre></figure>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Category</th>
      <th style="text-align: right">Num</th>
      <th style="text-align: right">Arrested</th>
      <th style="text-align: right">PercentArrested</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Larceny/Theft</td>
      <td style="text-align: right">374680</td>
      <td style="text-align: right">31419</td>
      <td style="text-align: right">8</td>
    </tr>
    <tr>
      <td style="text-align: left">Recovered Vehicle</td>
      <td style="text-align: right">6346</td>
      <td style="text-align: right">395</td>
      <td style="text-align: right">6</td>
    </tr>
    <tr>
      <td style="text-align: left">Bad Checks</td>
      <td style="text-align: right">849</td>
      <td style="text-align: right">45</td>
      <td style="text-align: right">5</td>
    </tr>
    <tr>
      <td style="text-align: left">Non-Criminal</td>
      <td style="text-align: right">195806</td>
      <td style="text-align: right">10082</td>
      <td style="text-align: right">5</td>
    </tr>
    <tr>
      <td style="text-align: left">Suspicious Occ</td>
      <td style="text-align: right">66176</td>
      <td style="text-align: right">2926</td>
      <td style="text-align: right">4</td>
    </tr>
    <tr>
      <td style="text-align: left">Vehicle Theft</td>
      <td style="text-align: right">112148</td>
      <td style="text-align: right">4381</td>
      <td style="text-align: right">4</td>
    </tr>
    <tr>
      <td style="text-align: left">Suicide</td>
      <td style="text-align: right">1108</td>
      <td style="text-align: right">32</td>
      <td style="text-align: right">3</td>
    </tr>
    <tr>
      <td style="text-align: left">Missing Person</td>
      <td style="text-align: right">54344</td>
      <td style="text-align: right">1224</td>
      <td style="text-align: right">2</td>
    </tr>
    <tr>
      <td style="text-align: left">Runaway</td>
      <td style="text-align: right">3957</td>
      <td style="text-align: right">17</td>
      <td style="text-align: right">0</td>
    </tr>
  </tbody>
</table>

<h2 id="highest-arrested-percent-crimes">Highest Arrested Percent Crimes</h2>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">sf.data</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">group_by</span><span class="p">(</span><span class="n">Category</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">summarise</span><span class="p">(</span><span class="n">Num</span><span class="o">=</span><span class="n">n</span><span class="p">(),</span><span class="w"> 
              </span><span class="n">Arrested</span><span class="o">=</span><span class="nf">sum</span><span class="p">(</span><span class="n">Arrested</span><span class="p">),</span><span class="w"> 
              </span><span class="n">Percent</span><span class="o">=</span><span class="nf">round</span><span class="p">(</span><span class="m">100</span><span class="o">*</span><span class="nf">sum</span><span class="p">(</span><span class="n">Arrested</span><span class="p">)</span><span class="o">/</span><span class="n">n</span><span class="p">(),</span><span class="w"> </span><span class="m">0</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
    </span><span class="n">arrange</span><span class="p">(</span><span class="n">desc</span><span class="p">(</span><span class="n">Percent</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">head</span><span class="p">(</span><span class="m">9</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    
    </span><span class="n">ggplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">reorder</span><span class="p">(</span><span class="n">Category</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="n">Percent</span><span class="p">),</span><span class="w">
               </span><span class="n">y</span><span class="o">=</span><span class="n">Percent</span><span class="p">,</span><span class="w"> 
               </span><span class="n">fill</span><span class="o">=</span><span class="n">reorder</span><span class="p">(</span><span class="n">Category</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="n">Percent</span><span class="p">)))</span><span class="w"> </span><span class="o">+</span><span class="w">
        </span><span class="n">geom_bar</span><span class="p">(</span><span class="n">stat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"identity"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
    </span><span class="n">theme</span><span class="p">(</span><span class="n">axis.text.x</span><span class="o">=</span><span class="n">element_blank</span><span class="p">(),</span><span class="w">
          </span><span class="n">legend.title</span><span class="o">=</span><span class="n">element_blank</span><span class="p">())</span><span class="w"> </span><span class="o">+</span><span class="w">
    </span><span class="n">labs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">"Category"</span><span class="p">,</span><span class="w">
         </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Percent Arrested"</span><span class="p">,</span><span class="w">
         </span><span class="n">title</span><span class="o">=</span><span class="s2">"Percent Arrested per Category of Incident"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
    </span><span class="n">ylim</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">100</span><span class="p">))</span></code></pre></figure>

<p><img src="/figs/SFCrimeExplore/Highest-Arrested-Percent-Crimes-1.png" alt="center" /></p>

<h2 id="robberytheft-data">Robbery/Theft Data</h2>

<p>Having briefly looked at arrest rates, let’s move onto crime location.</p>

<p>As a visitor to San Fransisco the crimes that would interest me most (in a can I avoid them kind of way) would probably be robbery and theft.</p>

<p>These appear to grouped under the following descriptions:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">sf.p.lt</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> 
    </span><span class="n">sf.data</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">filter</span><span class="p">(</span><span class="n">Category</span><span class="o">==</span><span class="s2">"Larceny/Theft"</span><span class="w"> </span><span class="o">&amp;</span><span class="w">
            </span><span class="n">grepl</span><span class="p">(</span><span class="s2">"Person|Pursesnatch|Pickpocket|Credit Card"</span><span class="p">,</span><span class="w"> </span><span class="n">Descript</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">
           </span><span class="n">Category</span><span class="o">==</span><span class="s2">"Robbery"</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> 
            </span><span class="o">!</span><span class="n">grepl</span><span class="p">(</span><span class="s2">"Bank|Carjacking|Store|Residence|Vehicle|Station|Estab"</span><span class="p">,</span><span class="w"> </span><span class="n">Descript</span><span class="p">))</span><span class="w">

</span><span class="n">sf.p.lt</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">group_by</span><span class="p">(</span><span class="n">Descript</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">summarise</span><span class="p">(</span><span class="n">Num</span><span class="o">=</span><span class="n">n</span><span class="p">())</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">arrange</span><span class="p">(</span><span class="n">desc</span><span class="p">(</span><span class="n">Num</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">head</span><span class="p">(</span><span class="m">10</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">kable</span><span class="p">()</span></code></pre></figure>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Descript</th>
      <th style="text-align: right">Num</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Grand Theft From Person</td>
      <td style="text-align: right">14799</td>
    </tr>
    <tr>
      <td style="text-align: left">Robbery On The Street, Strongarm</td>
      <td style="text-align: right">13837</td>
    </tr>
    <tr>
      <td style="text-align: left">Grand Theft Pickpocket</td>
      <td style="text-align: right">11728</td>
    </tr>
    <tr>
      <td style="text-align: left">Robbery, Bodily Force</td>
      <td style="text-align: right">9407</td>
    </tr>
    <tr>
      <td style="text-align: left">Robbery On The Street With A Gun</td>
      <td style="text-align: right">4278</td>
    </tr>
    <tr>
      <td style="text-align: left">Attempted Robbery On The Street With Bodily Force</td>
      <td style="text-align: right">2349</td>
    </tr>
    <tr>
      <td style="text-align: left">Robbery, Armed With A Gun</td>
      <td style="text-align: right">2292</td>
    </tr>
    <tr>
      <td style="text-align: left">Attempted Robbery With Bodily Force</td>
      <td style="text-align: right">1610</td>
    </tr>
    <tr>
      <td style="text-align: left">Robbery On The Street With A Knife</td>
      <td style="text-align: right">1535</td>
    </tr>
    <tr>
      <td style="text-align: left">Grand Theft Pursesnatch</td>
      <td style="text-align: right">1487</td>
    </tr>
  </tbody>
</table>

<h2 id="robberytheft-incidents-map">Robbery/Theft Incidents Map</h2>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">sf.big.box</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">-122.52</span><span class="p">,</span><span class="m">37.7</span><span class="p">,</span><span class="m">-122.35</span><span class="p">,</span><span class="m">37.82</span><span class="p">)</span><span class="w">
</span><span class="n">big.map</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">get_map</span><span class="p">(</span><span class="n">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sf.big.box</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">ggmap</span><span class="p">(</span><span class="n">big.map</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
    </span><span class="n">geom_point</span><span class="p">(</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sf.p.lt</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">Y</span><span class="p">),</span><span class="w"> 
               </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"red"</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.6</span><span class="p">,</span><span class="w"> </span><span class="n">alpha</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.3</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
    </span><span class="n">labs</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Locations of Robbery/Theft Incidents in San Francisco"</span><span class="p">)</span></code></pre></figure>

<p><img src="/figs/SFCrimeExplore/p.lt-map-1.png" alt="center" /></p>

<p>This map shows that Robbery/Theft occurs all over SF, but gives little indication of which areas are better or worse than others.</p>

<h2 id="robberytheft-contour-map">Robbery/Theft Contour Map</h2>

<p>Let’s look at a contour map and see if there are any hotspots.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1"># Robbery/Theft Contours
</span><span class="n">ggmap</span><span class="p">(</span><span class="n">big.map</span><span class="p">,</span><span class="w"> </span><span class="n">extent</span><span class="o">=</span><span class="s1">'device'</span><span class="p">,</span><span class="w"> </span><span class="n">legend</span><span class="o">=</span><span class="s2">"bottomleft"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> 
    </span><span class="n">stat_density2d</span><span class="p">(</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sf.p.lt</span><span class="p">,</span><span class="w">
        </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Y</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">..level..</span><span class="p">,</span><span class="w"> </span><span class="n">alpha</span><span class="o">=</span><span class="n">..level..</span><span class="p">),</span><span class="w">
        </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.1</span><span class="p">,</span><span class="w"> </span><span class="n">colour</span><span class="o">=</span><span class="s2">"red"</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="o">=</span><span class="m">100</span><span class="p">,</span><span class="w"> </span><span class="n">geom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"polygon"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
    </span><span class="n">scale_alpha_continuous</span><span class="p">(</span><span class="n">range</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0.6</span><span class="p">,</span><span class="m">0.8</span><span class="p">),</span><span class="w"> </span><span class="n">guide</span><span class="o">=</span><span class="s1">'none'</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
    </span><span class="n">scale_fill_gradient</span><span class="p">(</span><span class="s1">'Robbery\nTheft\nDensity'</span><span class="p">)</span><span class="o">+</span><span class="w">
    </span><span class="n">ggtitle</span><span class="p">(</span><span class="s1">'Robbery/Theft Density in San Francisco'</span><span class="p">)</span></code></pre></figure>

<p><img src="/figs/SFCrimeExplore/p-lt-contour-map-1.png" alt="center" /></p>

<h2 id="a-closer-look">A Closer Look</h2>

<p>There are some definite hotspots there so we’ll zoom in and take a closer look.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1"># more focussed map for larceny centre
</span><span class="n">zoom.centre</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">-122.41</span><span class="p">,</span><span class="w"> </span><span class="m">37.79</span><span class="p">)</span><span class="w">
</span><span class="n">zoom.map</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">get_map</span><span class="p">(</span><span class="n">location</span><span class="o">=</span><span class="n">zoom.centre</span><span class="p">,</span><span class="w"> </span><span class="n">zoom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">14</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1"># Robbery/Theft Contours
</span><span class="n">ggmap</span><span class="p">(</span><span class="n">zoom.map</span><span class="p">,</span><span class="w"> </span><span class="n">extent</span><span class="o">=</span><span class="s1">'device'</span><span class="p">,</span><span class="w"> </span><span class="n">legend</span><span class="o">=</span><span class="s2">"topleft"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> 
    </span><span class="n">stat_density2d</span><span class="p">(</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sf.p.lt</span><span class="p">,</span><span class="w">
                   </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Y</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">..level..</span><span class="p">,</span><span class="w"> </span><span class="n">alpha</span><span class="o">=</span><span class="n">..level..</span><span class="p">),</span><span class="w">
                   </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.1</span><span class="p">,</span><span class="w"> </span><span class="n">colour</span><span class="o">=</span><span class="s2">"red"</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="o">=</span><span class="m">100</span><span class="p">,</span><span class="w">
                   </span><span class="n">geom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"polygon"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
    </span><span class="n">scale_alpha_continuous</span><span class="p">(</span><span class="n">range</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0.2</span><span class="p">,</span><span class="m">0.4</span><span class="p">),</span><span class="w"> </span><span class="n">guide</span><span class="o">=</span><span class="s1">'none'</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
    </span><span class="n">scale_fill_gradient</span><span class="p">(</span><span class="s1">'Robbery\nTheft\nDensity'</span><span class="p">)</span><span class="o">+</span><span class="w">
    </span><span class="n">ggtitle</span><span class="p">(</span><span class="s1">'Robbery/Theft Density in San Francisco'</span><span class="p">)</span></code></pre></figure>

<p><img src="/figs/SFCrimeExplore/p-lt-contour-map-zoom-1.png" alt="center" /></p>

<h1 id="central-district">Central District</h1>

<p>An even closer look at the central district</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1"># more focussed map for larceny centre
</span><span class="n">big.zoom.centre</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">-122.409</span><span class="p">,</span><span class="w"> </span><span class="m">37.786</span><span class="p">)</span><span class="w">
</span><span class="n">big.zoom.map</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">get_map</span><span class="p">(</span><span class="n">location</span><span class="o">=</span><span class="n">zoom.centre</span><span class="p">,</span><span class="w"> </span><span class="n">zoom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">15</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1"># Robbery/Theft Contours
</span><span class="n">ggmap</span><span class="p">(</span><span class="n">big.zoom.map</span><span class="p">,</span><span class="w"> </span><span class="n">extent</span><span class="o">=</span><span class="s1">'device'</span><span class="p">,</span><span class="w"> </span><span class="n">legend</span><span class="o">=</span><span class="s2">"topleft"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> 
    </span><span class="n">stat_density2d</span><span class="p">(</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sf.p.lt</span><span class="p">,</span><span class="w">
                   </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Y</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">..level..</span><span class="p">,</span><span class="w"> </span><span class="n">alpha</span><span class="o">=</span><span class="n">..level..</span><span class="p">),</span><span class="w">
                   </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.1</span><span class="p">,</span><span class="w"> </span><span class="n">colour</span><span class="o">=</span><span class="s2">"red"</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="o">=</span><span class="m">200</span><span class="p">,</span><span class="w"> </span><span class="n">geom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"polygon"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
    </span><span class="n">scale_alpha_continuous</span><span class="p">(</span><span class="n">range</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0.05</span><span class="p">,</span><span class="w"> </span><span class="m">0.1</span><span class="p">),</span><span class="w"> </span><span class="n">guide</span><span class="o">=</span><span class="s1">'none'</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
    </span><span class="n">scale_fill_gradient</span><span class="p">(</span><span class="s1">'Robbery\nTheft\nDensity'</span><span class="p">)</span><span class="o">+</span><span class="w">
    </span><span class="n">ggtitle</span><span class="p">(</span><span class="s1">'Robbery/Theft Density in San Francisco'</span><span class="p">)</span></code></pre></figure>

<p><img src="/figs/SFCrimeExplore/p-lt-contour-map-big-zoom-1.png" alt="center" /></p>

<p>From the map it’s clear that there are areas with elevated levels of robbery/theft, and with the shading mostly removed its possible to see that one of the strongest centres is the area area around Powel St Station.</p>

<h1 id="robbery-vs-theft-contours">Robbery vs Theft Contours</h1>

<p>Obviously no-one wants to be a victim of larceny/theft, but robbery (with violence or threat) is likely to be worse - do these two sets of crimes happen in different places?</p>

<p>Larceny contours are in blue, Robbery contours in red.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1"># Larceny - Blue
# Robbery - Red
</span><span class="n">ggmap</span><span class="p">(</span><span class="n">big.zoom.map</span><span class="p">,</span><span class="w"> </span><span class="n">extent</span><span class="o">=</span><span class="s1">'device'</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> 
    </span><span class="n">stat_density2d</span><span class="p">(</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sf.p.lt</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">filter</span><span class="p">(</span><span class="n">Category</span><span class="o">==</span><span class="s2">"Larceny/Theft"</span><span class="p">),</span><span class="w">
                   </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Y</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">..level..</span><span class="p">,</span><span class="w"> </span><span class="n">alpha</span><span class="o">=</span><span class="n">..level..</span><span class="p">),</span><span class="w">
                   </span><span class="n">colour</span><span class="o">=</span><span class="s2">"blue"</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="o">=</span><span class="m">200</span><span class="p">,</span><span class="w"> </span><span class="n">geom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"polygon"</span><span class="p">,</span><span class="w"> </span><span class="n">bins</span><span class="o">=</span><span class="m">7</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
    </span><span class="n">stat_density2d</span><span class="p">(</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sf.p.lt</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">filter</span><span class="p">(</span><span class="n">Category</span><span class="o">==</span><span class="s2">"Robbery"</span><span class="p">),</span><span class="w">
                   </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Y</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">..level..</span><span class="p">,</span><span class="w"> </span><span class="n">alpha</span><span class="o">=</span><span class="n">..level..</span><span class="p">),</span><span class="w">
                   </span><span class="n">colour</span><span class="o">=</span><span class="s2">"red"</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="o">=</span><span class="m">200</span><span class="p">,</span><span class="w"> </span><span class="n">geom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"polygon"</span><span class="p">,</span><span class="w"> </span><span class="n">bins</span><span class="o">=</span><span class="m">7</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
    </span><span class="n">scale_alpha_continuous</span><span class="p">(</span><span class="n">range</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0.0</span><span class="p">,</span><span class="m">0.1</span><span class="p">),</span><span class="w"> </span><span class="n">guide</span><span class="o">=</span><span class="s1">'none'</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">    
    </span><span class="n">scale_fill_gradient</span><span class="p">(</span><span class="s1">'Robbery\nTheft\nDensities'</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
    </span><span class="n">ggtitle</span><span class="p">(</span><span class="s1">'Robbery/Theft Contours in San Francisco'</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
    </span><span class="n">theme</span><span class="p">(</span><span class="n">legend.position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"none"</span><span class="p">)</span></code></pre></figure>

<p><img src="/figs/SFCrimeExplore/rt-lt-contour-map-zoom-1.png" alt="center" /></p>

<p><br />From the overlapping contours it seems that these two categories of crimes happen in broadly the same areas with only minor differences.
<br />
<br /></p>


		</article>
	</div><!-- /.medium-12.columns -->
</div><!-- /.row -->




	
	    <div id="up-to-top" class="row">
      <div class="small-12 columns" style="text-align: right;">
        <a class="iconfont" href="#top-of-page">&#xf108;</a>
      </div><!-- /.small-12.columns -->
    </div><!-- /.row -->


    <footer id="footer-content" class="bg-grau">
      <div id="footer">
        <div class="row">
          <div class="medium-6 large-5 columns">
            <h5 class="shadow-black">About This Site</h5>

            <p class="shadow-black">
              This site is a repository for my projects
              <a href="http://localhost:4000/info/">More ›</a>
            </p>
          </div><!-- /.large-6.columns -->


          <div class="small-6 medium-3 large-3 large-offset-1 columns">
            
              
                <h5 class="shadow-black">Services</h5>
              
            
              
            
              
            
              
            
              
            

              <ul class="no-bullet shadow-black">
              
                
                  <li >
                    <a href="http://localhost:4000"  title=""></a>
                  </li>
              
                
                  <li >
                    <a href="http://localhost:4000/contact/"  title="Contact">Contact</a>
                  </li>
              
                
                  <li >
                    <a href="http://localhost:4000/feed.xml"  title="Subscribe to RSS Feed">RSS</a>
                  </li>
              
                
                  <li >
                    <a href="http://localhost:4000/atom.xml"  title="Subscribe to Atom Feed">Atom</a>
                  </li>
              
                
                  <li >
                    <a href="http://localhost:4000/sitemap.xml"  title="Sitemap for Google Webmaster Tools">sitemap.xml</a>
                  </li>
              
              </ul>
          </div><!-- /.large-4.columns -->


          <div class="small-6 medium-3 large-3 columns">
            

            <ul class="no-bullet shadow-black">
            
            </ul>
          </div><!-- /.large-3.columns -->
        </div><!-- /.row -->

      </div><!-- /#footer -->


      <div id="subfooter">
        <nav class="row">
          <section id="subfooter-left" class="small-12 medium-6 columns credits">
            <p>Created by Mark Pratley with <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> based on the <a href="http://phlow.github.io/feeling-responsive/">Feeling Responsive</a> theme.</p>
          </section>

          <section id="subfooter-right" class="small-12 medium-6 columns">
            <ul class="inline-list social-icons">
            
              <li><a href="http://github.com/markpratley" target="_blank" class="icon-github" title="Code und mehr..."></a></li>
            
            </ul>
          </section>
        </nav>
      </div><!-- /#subfooter -->
    </footer>

	

	


<script src="http://localhost:4000/assets/js/javascript.min.js"></script>



<script>
    $("#masthead").backstretch("http://localhost:4000/images/SF-Crime2_Middle.png", {fade: 700});
    $("#masthead-with-text").backstretch("http://localhost:4000/images/SF-Crime2_Middle.png", {fade: 700});
</script>












</body>
</html>

